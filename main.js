var rp1 = "&#80;&#108;&#97;&#121;&#105;&#110;&#103;&#32;&#87;&#105;&#116;&#104;&#32;&#77;&#97;&#114;&#107;&#100;&#111;&#119;&#110;&#10;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#10;&#10;&#42;&#86;&#105;&#101;&#119;&#32;&#116;&#104;&#101;&#32;&#91;&#115;&#111;&#117;&#114;&#99;&#101;&#32;&#111;&#102;&#32;&#116;&#104;&#105;&#115;&#32;&#99;&#111;&#110;&#116;&#101;&#110;&#116;&#93;&#40;&#35;&#41;&#46;&#42;&#10;&#10;&#87;&#97;&#110;&#110;&#97;&#32;&#108;&#101;&#97;&#114;&#110;&#32;&#97;&#98;&#111;&#117;&#116;&#32;&#108;&#105;&#110;&#101;&#32;&#98;&#114;&#101;&#97;&#107;&#115;&#63;&#32;&#84;&#104;&#101;&#32;&#102;&#111;&#108;&#108;&#111;&#119;&#105;&#110;&#103;&#32;&#116;&#119;&#111;&#32;&#115;&#101;&#110;&#116;&#101;&#110;&#99;&#101;&#115;&#32;&#111;&#110;&#108;&#121;&#32;&#104;&#97;&#118;&#101;&#32;&#111;&#110;&#101;&#32;&#108;&#105;&#110;&#101;&#32;&#98;&#114;&#101;&#97;&#107;&#32;&#98;&#101;&#116;&#119;&#101;&#101;&#110;&#32;&#116;&#104;&#101;&#109;&#46;&#46;&#46;&#10;&#10;&#73;&#32;&#97;&#109;&#32;&#67;&#111;&#100;&#101;&#32;&#78;&#105;&#116;&#45;&#87;&#104;&#105;&#116;&#46;&#10;&#73;&#32;&#97;&#109;&#32;&#110;&#111;&#116;&#32;&#115;&#111;&#32;&#78;&#105;&#116;&#32;&#87;&#104;&#105;&#116;&#116;&#121;&#46;&#10;&#10;&#84;&#104;&#101;&#32;&#110;&#101;&#120;&#116;&#32;&#112;&#97;&#114;&#97;&#103;&#114;&#97;&#112;&#104;&#32;&#104;&#97;&#115;&#32;&#116;&#104;&#101;&#32;&#115;&#97;&#109;&#101;&#32;&#115;&#101;&#110;&#116;&#101;&#110;&#99;&#101;&#115;&#44;&#32;&#98;&#117;&#116;&#32;&#110;&#111;&#119;&#32;&#116;&#104;&#101;&#121;&#32;&#97;&#114;&#101;&#32;&#115;&#101;&#112;&#97;&#114;&#97;&#116;&#101;&#100;&#32;&#98;&#121;&#32;&#116;&#119;&#111;&#32;&#110;&#101;&#119;&#32;&#108;&#105;&#110;&#101;&#32;&#99;&#104;&#97;&#114;&#97;&#99;&#116;&#101;&#114;&#115;&#46;&#46;&#46;&#10;&#10;&#73;&#32;&#97;&#109;&#32;&#67;&#111;&#100;&#101;&#32;&#78;&#105;&#116;&#45;&#87;&#104;&#105;&#116;&#46;&#10;&#10;&#73;&#32;&#97;&#109;&#32;&#110;&#111;&#116;&#32;&#115;&#111;&#32;&#78;&#105;&#116;&#32;&#87;&#104;&#105;&#116;&#116;&#121;&#46;&#10;&#10;&#10;&#65;&#32;&#98;&#105;&#116;&#32;&#111;&#102;&#32;&#67;&#111;&#100;&#105;&#110;&#103;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#83;&#111;&#109;&#101;&#32;&#74;&#83;&#32;&#99;&#111;&#100;&#101;&#46;&#46;&#46;&#32;&#10;&#10;&#96;&#96;&#96;&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#10;&#118;&#97;&#114;&#32;&#115;&#121;&#110;&#116;&#97;&#120;&#72;&#105;&#103;&#104;&#108;&#105;&#103;&#104;&#116;&#105;&#110;&#103;&#32;&#61;&#32;&#34;&#97;&#119;&#101;&#115;&#111;&#109;&#101;&#34;&#59;&#10;&#97;&#108;&#101;&#114;&#116;&#40;&#115;&#121;&#110;&#116;&#97;&#120;&#72;&#105;&#103;&#104;&#108;&#105;&#103;&#104;&#116;&#105;&#110;&#103;&#41;&#59;&#10;&#96;&#96;&#96;&#10;&#10;&#77;&#97;&#116;&#104;&#32;&#105;&#115;&#32;&#104;&#97;&#114;&#100;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#103;&#111;&#32;&#115;&#104;&#111;&#112;&#112;&#105;&#110;&#103;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#73;&#110;&#32;&#115;&#99;&#104;&#111;&#111;&#108;&#32;&#73;&#32;&#108;&#101;&#97;&#114;&#110;&#101;&#100;&#32;&#116;&#104;&#97;&#116;&#32;&#54;&#32;&#62;&#32;&#50;&#32;&#97;&#110;&#100;&#32;&#51;&#32;&#60;&#32;&#55;&#46;&#10;&#10;&#72;&#101;&#114;&#101;&#32;&#97;&#114;&#101;&#32;&#115;&#111;&#109;&#101;&#32;&#97;&#114;&#114;&#111;&#119;&#115;&#46;&#32;&#50;&#32;&#45;&#62;&#32;&#52;&#32;&#45;&#62;&#32;&#54;&#46;&#32;&#57;&#32;&#60;&#45;&#32;&#54;&#32;&#60;&#45;&#32;&#51;&#46;&#10;&#10;&#70;&#111;&#114;&#101;&#118;&#101;&#114;&#32;&#98;&#117;&#114;&#110;&#101;&#100;&#32;&#105;&#110;&#116;&#111;&#32;&#109;&#121;&#32;&#109;&#101;&#109;&#111;&#114;&#121;&#33;&#32;&#97;&#94;&#50;&#32;&#43;&#32;&#98;&#94;&#50;&#32;&#61;&#32;&#99;&#94;&#50;&#10;&#10;&#87;&#101;&#32;&#97;&#108;&#108;&#32;&#108;&#105;&#107;&#101;&#32;&#109;&#97;&#107;&#105;&#110;&#103;&#32;&#108;&#105;&#115;&#116;&#115;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;";
var rp2 = "&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#84;&#104;&#101;&#32;&#97;&#98;&#111;&#118;&#101;&#32;&#104;&#101;&#97;&#100;&#101;&#114;&#32;&#115;&#104;&#111;&#117;&#108;&#100;&#32;&#98;&#101;&#32;&#97;&#110;&#32;&#72;&#50;&#32;&#116;&#97;&#103;&#46;&#32;&#78;&#111;&#119;&#44;&#32;&#102;&#111;&#114;&#32;&#97;&#32;&#108;&#105;&#115;&#116;&#32;&#111;&#102;&#32;&#108;&#105;&#115;&#116;&#115;&#58;&#10;&#10;&#42;&#32;&#71;&#114;&#111;&#99;&#101;&#114;&#121;&#32;&#76;&#105;&#115;&#116;&#10;&#42;&#32;&#66;&#117;&#99;&#107;&#101;&#116;&#32;&#76;&#105;&#115;&#116;&#10;&#42;&#32;&#72;&#105;&#116;&#32;&#76;&#105;&#115;&#116;&#10;&#10;&#83;&#111;&#109;&#101;&#32;&#109;&#111;&#114;&#101;&#32;&#119;&#97;&#99;&#107;&#105;&#110;&#101;&#115;&#115;&#58;&#10;&#10;&#49;&#46;&#32;&#32;&#89;&#111;&#117;&#32;&#119;&#97;&#110;&#116;&#32;&#116;&#119;&#111;&#32;&#112;&#97;&#114;&#97;&#103;&#114;&#97;&#112;&#104;&#115;&#63;&#10;&#10;&#32;&#32;&#32;&#32;&#89;&#111;&#117;&#32;&#99;&#97;&#110;&#32;&#104;&#97;&#118;&#101;&#32;&#116;&#119;&#111;&#32;&#112;&#97;&#114;&#97;&#103;&#114;&#97;&#112;&#104;&#115;&#33;&#10;&#10;&#50;&#46;&#32;&#32;&#66;&#117;&#116;&#32;&#110;&#111;&#114;&#109;&#97;&#108;&#32;&#112;&#101;&#111;&#112;&#108;&#101;&#32;&#117;&#115;&#101;&#32;&#111;&#110;&#101;&#46;&#46;&#46;&#10;&#10;&#87;&#97;&#110;&#116;&#32;&#115;&#111;&#109;&#101;&#32;&#99;&#111;&#100;&#101;&#32;&#42;&#42;&#105;&#110;&#42;&#42;&#32;&#97;&#32;&#108;&#105;&#115;&#116;&#63;&#32;&#84;&#104;&#101;&#32;&#97;&#118;&#101;&#114;&#97;&#103;&#101;&#32;&#112;&#101;&#114;&#115;&#111;&#110;&#32;&#119;&#111;&#117;&#108;&#100;&#32;&#116;&#104;&#105;&#110;&#107;&#32;&#116;&#104;&#97;&#116;&#32;&#105;&#115;&#32;&#105;&#110;&#115;&#97;&#110;&#101;&#46;&#32;&#66;&#117;&#116;&#32;&#121;&#111;&#117;&#32;&#97;&#114;&#101;&#110;&#39;&#116;&#32;&#97;&#118;&#101;&#114;&#97;&#103;&#101;&#44;&#32;&#97;&#114;&#101;&#32;&#121;&#111;&#117;&#63;&#10;&#10;&#49;&#46;&#32;&#73;&#110;&#32;&#72;&#84;&#77;&#76;&#32;&#121;&#111;&#117;&#32;&#99;&#97;&#110;&#32;&#105;&#109;&#112;&#111;&#114;&#116;&#32;&#115;&#116;&#121;&#108;&#105;&#110;&#103;&#32;&#108;&#105;&#107;&#101;&#32;&#116;&#104;&#105;&#115;&#58;&#10;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#60;&#108;&#105;&#110;&#107;&#32;&#114;&#101;&#108;&#61;&#34;&#115;&#116;&#121;&#108;&#101;&#115;&#104;&#101;&#101;&#116;&#34;&#32;&#104;&#114;&#101;&#102;&#61;&#34;&#121;&#111;&#117;&#114;&#115;&#46;&#99;&#115;&#115;&#34;&#62;&#10;&#10;&#50;&#46;&#32;&#73;&#110;&#32;&#67;&#83;&#83;&#44;&#32;&#121;&#111;&#117;&#32;&#99;&#97;&#110;&#32;&#105;&#109;&#112;&#111;&#114;&#116;&#32;&#79;&#84;&#72;&#69;&#82;&#32;&#115;&#116;&#121;&#108;&#105;&#110;&#103;&#32;&#108;&#105;&#107;&#101;&#32;&#116;&#104;&#105;&#115;&#58;&#10;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#64;&#105;&#109;&#112;&#111;&#114;&#116;&#32;&#34;&#115;&#116;&#121;&#108;&#101;&#50;&#46;&#99;&#115;&#115;&#34;&#59;&#10;&#10;&#68;&#111;&#112;&#101;&#121;&#32;&#112;&#101;&#111;&#112;&#108;&#101;&#32;&#116;&#101;&#110;&#100;&#32;&#116;&#111;&#32;&#110;&#101;&#101;&#100;&#32;&#108;&#105;&#115;&#116;&#115;&#32;&#116;&#104;&#101;&#32;&#109;&#111;&#115;&#116;&#115;&#44;&#32;&#98;&#117;&#116;&#32;&#110;&#101;&#118;&#101;&#114;&#32;&#117;&#115;&#101;&#32;&#116;&#104;&#101;&#109;&#46;&#10;&#10;&#60;&#100;&#108;&#62;&#10;&#32;&#32;&#60;&#100;&#116;&#62;&#76;&#111;&#119;&#101;&#114;&#32;&#111;&#118;&#101;&#114;&#104;&#101;&#97;&#100;&#60;&#47;&#100;&#116;&#62;&#10;&#32;&#32;&#60;&#100;&#100;&#62;&#87;&#104;&#111;&#32;&#110;&#101;&#101;&#100;&#115;&#32;&#116;&#111;&#32;&#117;&#115;&#101;&#32;&#116;&#104;&#101;&#105;&#114;&#32;&#98;&#114;&#97;&#105;&#110;&#32;&#112;&#111;&#119;&#101;&#114;&#32;&#119;&#104;&#101;&#110;&#32;&#116;&#104;&#101;&#114;&#101;&#32;&#105;&#115;&#32;&#97;&#32;&#112;&#101;&#114;&#102;&#101;&#99;&#116;&#108;&#121;&#32;&#108;&#111;&#115;&#97;&#98;&#108;&#101;&#32;&#112;&#105;&#101;&#99;&#101;&#32;&#111;&#102;&#32;&#112;&#97;&#112;&#101;&#114;&#44;&#32;&#114;&#105;&#103;&#104;&#116;&#32;&#84;&#72;&#69;&#82;&#69;&#33;&#63;&#60;&#47;&#100;&#100;&#62;&#10;&#32;&#32;&#60;&#100;&#116;&#62;&#69;&#97;&#115;&#105;&#101;&#114;&#32;&#116;&#111;&#32;&#117;&#115;&#101;&#60;&#47;&#100;&#116;&#62;&#10;&#32;&#32;&#60;&#100;&#100;&#62;&#87;&#101;&#108;&#108;&#44;&#32;&#102;&#111;&#114;";
var rp3 = "&#32;&#115;&#111;&#109;&#101;&#46;&#60;&#47;&#100;&#100;&#62;&#10;&#60;&#47;&#100;&#108;&#62;&#10;&#10;&#73;&#32;&#65;&#109;&#32;&#82;&#111;&#98;&#111;&#116;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#77;&#97;&#121;&#98;&#101;&#32;&#121;&#111;&#117;&#32;&#119;&#97;&#110;&#116;&#32;&#116;&#111;&#32;&#112;&#114;&#105;&#110;&#116;&#32;&#96;&#114;&#111;&#98;&#111;&#116;&#96;&#32;&#116;&#111;&#32;&#116;&#104;&#101;&#32;&#99;&#111;&#110;&#115;&#111;&#108;&#101;&#32;&#49;&#48;&#48;&#48;&#32;&#116;&#105;&#109;&#101;&#115;&#46;&#32;&#87;&#104;&#121;&#32;&#110;&#111;&#116;&#32;&#117;&#115;&#101;&#32;&#67;&#35;&#63;&#10;&#10;&#32;&#32;&#32;&#32;&#102;&#111;&#114;&#40;&#105;&#110;&#116;&#32;&#105;&#32;&#61;&#32;&#48;&#59;&#32;&#105;&#32;&#60;&#32;&#49;&#48;&#48;&#48;&#59;&#32;&#105;&#43;&#43;&#41;&#32;&#123;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#67;&#111;&#110;&#115;&#111;&#108;&#101;&#46;&#87;&#114;&#105;&#116;&#101;&#76;&#105;&#110;&#101;&#40;&#34;&#114;&#111;&#98;&#111;&#116;&#34;&#41;&#59;&#10;&#32;&#32;&#32;&#32;&#125;&#10;&#10;&#73;&#102;&#32;&#116;&#104;&#97;&#116;&#32;&#119;&#101;&#114;&#101;&#110;&#39;&#116;&#32;&#105;&#110;&#115;&#101;&#116;&#32;&#52;&#32;&#115;&#112;&#97;&#99;&#101;&#115;&#44;&#32;&#119;&#111;&#117;&#108;&#100;&#32;&#105;&#116;&#32;&#114;&#101;&#97;&#108;&#108;&#121;&#32;&#98;&#101;&#32;&#97;&#32;&#116;&#97;&#98;&#63;&#32;&#73;&#116;&#32;&#100;&#101;&#102;&#105;&#110;&#105;&#116;&#101;&#108;&#121;&#32;&#119;&#111;&#117;&#108;&#100;&#110;&#39;&#116;&#32;&#108;&#111;&#111;&#107;&#32;&#108;&#105;&#107;&#101;&#32;&#99;&#111;&#100;&#101;&#46;&#46;&#46;&#10;&#10;&#67;&#97;&#110;&#32;&#119;&#101;&#32;&#98;&#114;&#101;&#97;&#107;&#32;&#105;&#116;&#32;&#119;&#105;&#116;&#104;&#32;&#115;&#111;&#109;&#101;&#32;&#97;&#110;&#103;&#108;&#101;&#32;&#98;&#114;&#97;&#99;&#101;&#115;&#32;&#97;&#110;&#100;&#32;&#97;&#109;&#112;&#101;&#114;&#115;&#97;&#110;&#100;&#115;&#63;&#10;&#10;&#32;&#32;&#32;&#32;&#60;&#100;&#105;&#118;&#32;&#99;&#108;&#97;&#115;&#115;&#61;&#34;&#102;&#111;&#111;&#116;&#101;&#114;&#34;&#62;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#169;&#32;&#50;&#48;&#50;&#48;&#32;&#73;&#108;&#108;&#117;&#109;&#105;&#110;&#97;&#116;&#105;&#32;&#67;&#111;&#114;&#112;&#111;&#114;&#97;&#116;&#105;&#111;&#110;&#10;&#32;&#32;&#32;&#32;&#60;&#47;&#100;&#105;&#118;&#62;&#10;&#10;&#73;&#116;&#39;&#115;&#32;&#108;&#105;&#107;&#101;&#32;&#50;&#68;&#32;&#77;&#105;&#110;&#101;&#99;&#114;&#97;&#102;&#116;&#33;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#80;&#114;&#101;&#102;&#111;&#114;&#109;&#97;&#116;&#116;&#101;&#100;&#32;&#98;&#108;&#111;&#99;&#107;&#115;&#32;&#97;&#114;&#101;&#32;&#117;&#115;&#101;&#102;&#117;&#108;&#32;&#102;&#111;&#114;&#32;&#65;&#83;&#67;&#73;&#73;&#32;&#97;&#114;&#116;&#58;&#10;&#10;&#60;&#112;&#114;&#101;&#62;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#44;&#45;&#46;&#10;&#32;&#32;&#32;&#32;&#44;&#32;&#32;&#32;&#32;&#32;&#44;&#45;&#46;&#32;&#32;&#32;&#44;&#45;&#46;&#10;&#32;&#32;&#32;&#47;&#32;&#92;&#32;&#32;&#32;&#40;&#32;&#32;&#32;&#41;&#45;&#40;&#32;&#32;&#32;&#41;&#10;&#32;&#32;&#32;&#92;&#32;&#124;&#32;&#32;&#44;&#46;&#62;&#45;&#40;&#32;&#32;&#32;&#41;&#45;&#60;&#10;&#32;&#32;&#32;&#32;&#92;&#124;&#44;&#39;&#32;&#40;&#32;&#32;&#32;&#41;&#45;&#40;&#32;&#32;&#32;&#41;&#10;&#32;&#32;&#32;&#32;&#32;&#89;&#32;&#95;&#95;&#95;&#96;&#45;&#39;&#32;&#32;&#32;&#96;&#45;&#39;&#10;&#32;&#32;&#32;&#32;&#32;&#124;&#47;&#95;&#95;&#47;&#32;&#32;&#32;&#96;&#45;&#39;&#10;&#32;&#32;&#32;&#32;&#32;&#124;&#10;&#32;&#32;&#32;&#32;&#32;&#124;&#10;&#32;&#32;&#32;&#32;&#32;&#124;&#32;&#32;&#32;&#32;&#45;&#104;&#114;&#114;&#45;&#10;&#32;&#32;&#95;&#95;&#95;&#124;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#95;&#10;&#60;&#47;&#112;&#114;&#101;&#62;&#10;&#10;&#87;&#104;&#111;&#39;&#115;&#32;&#116;&#111;&#32;&#66;&#108;&#97;&#109;&#101;&#63;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#73;&#102;&#32;&#121;&#111;&#117;&#32;&#110;&#101;&#101;&#100;&#32;&#97;&#32;&#115;&#99;&#97;&#112;&#101;&#103;&#111;&#97;&#116;&#44;&#32;&#106;&#117;&#115;&#116;&#32;&#113;&#117;&#111;&#116;&#101;&#32;&#115;&#111;&#109;&#101;&#111;&#110;";
var rp4 = "&#101;&#58;&#10;&#10;&#62;&#32;&#73;&#32;&#104;&#97;&#116;&#101;&#100;&#32;&#104;&#105;&#109;&#46;&#46;&#46;&#32;&#45;&#78;&#111;&#116;&#32;&#116;&#104;&#101;&#32;&#75;&#105;&#108;&#108;&#101;&#114;&#10;&#10;&#77;&#97;&#121;&#98;&#101;&#32;&#103;&#101;&#116;&#32;&#97;&#32;&#108;&#105;&#116;&#116;&#108;&#101;&#32;&#117;&#110;&#101;&#120;&#112;&#101;&#99;&#116;&#101;&#100;&#63;&#58;&#10;&#10;&#62;&#32;&#73;&#32;&#119;&#105;&#115;&#104;&#32;&#121;&#111;&#117;&#39;&#100;&#32;&#104;&#97;&#118;&#101;&#32;&#103;&#105;&#118;&#101;&#110;&#32;&#109;&#101;&#32;&#116;&#104;&#105;&#115;&#32;&#114;&#101;&#113;&#117;&#101;&#115;&#116;&#32;&#102;&#111;&#114;&#32;&#97;&#32;&#113;&#117;&#111;&#116;&#101;&#32;&#97;&#104;&#101;&#97;&#100;&#32;&#111;&#102;&#32;&#116;&#105;&#109;&#101;&#32;&#115;&#111;&#32;&#73;&#10;&#62;&#32;&#99;&#111;&#117;&#108;&#100;&#32;&#112;&#108;&#97;&#110;&#32;&#102;&#111;&#114;&#32;&#105;&#116;&#46;&#46;&#46;&#32;&#73;&#39;&#109;&#32;&#115;&#117;&#114;&#101;&#32;&#115;&#111;&#109;&#101;&#116;&#104;&#105;&#110;&#103;&#32;&#119;&#105;&#108;&#108;&#32;&#112;&#111;&#112;&#32;&#105;&#110;&#116;&#111;&#32;&#109;&#121;&#32;&#104;&#101;&#97;&#100;&#32;&#104;&#101;&#114;&#101;&#32;&#105;&#110;&#10;&#62;&#32;&#116;&#104;&#101;&#32;&#109;&#105;&#100;&#115;&#116;&#32;&#111;&#102;&#32;&#97;&#108;&#108;&#32;&#116;&#104;&#105;&#115;&#32;&#112;&#114;&#111;&#103;&#114;&#97;&#109;&#109;&#105;&#110;&#103;&#44;&#32;&#119;&#105;&#116;&#104;&#32;&#97;&#108;&#108;&#32;&#116;&#104;&#101;&#32;&#112;&#114;&#101;&#115;&#115;&#117;&#114;&#101;&#32;&#111;&#102;&#32;&#116;&#114;&#121;&#105;&#110;&#103;&#32;&#116;&#111;&#10;&#62;&#32;&#99;&#111;&#109;&#101;&#32;&#117;&#112;&#32;&#119;&#105;&#116;&#104;&#32;&#115;&#111;&#109;&#101;&#116;&#104;&#105;&#110;&#103;&#32;&#99;&#108;&#101;&#118;&#101;&#114;&#44;&#32;&#98;&#117;&#116;&#32;&#105;&#116;&#32;&#104;&#97;&#100;&#110;&#39;&#116;&#32;&#121;&#101;&#116;&#46;&#46;&#46;&#10;&#62;&#10;&#62;&#32;&#73;&#32;&#100;&#111;&#110;&#39;&#116;&#32;&#119;&#97;&#110;&#116;&#32;&#116;&#111;&#32;&#115;&#111;&#117;&#110;&#100;&#32;&#108;&#105;&#107;&#101;&#10;&#62;&#32;&#73;&#39;&#109;&#32;&#112;&#101;&#114;&#102;&#101;&#99;&#116;&#46;&#32;&#73;&#39;&#109;&#32;&#99;&#111;&#110;&#102;&#105;&#100;&#101;&#110;&#116;&#32;&#73;&#39;&#109;&#32;&#110;&#111;&#116;&#46;&#32;&#73;&#32;&#106;&#117;&#115;&#116;&#32;&#104;&#97;&#118;&#101;&#110;&#39;&#116;&#32;&#45;&#32;&#121;&#111;&#117;&#10;&#62;&#32;&#106;&#117;&#115;&#116;&#32;&#112;&#117;&#116;&#32;&#109;&#101;&#32;&#117;&#110;&#100;&#101;&#114;&#32;&#116;&#104;&#101;&#32;&#115;&#112;&#111;&#116;&#32;&#104;&#101;&#114;&#101;&#44;&#32;&#97;&#110;&#100;&#32;&#109;&#97;&#121;&#98;&#101;&#32;&#73;&#39;&#109;&#32;&#110;&#111;&#116;&#32;&#97;&#115;&#32;&#113;&#117;&#105;&#99;&#107;&#32;&#111;&#110;&#32;&#109;&#121;&#32;&#102;&#101;&#101;&#116;&#10;&#62;&#32;&#97;&#115;&#32;&#73;&#32;&#115;&#104;&#111;&#117;&#108;&#100;&#32;&#98;&#101;&#32;&#105;&#110;&#32;&#99;&#111;&#109;&#105;&#110;&#103;&#32;&#117;&#112;&#32;&#119;&#105;&#116;&#104;&#32;&#115;&#111;&#109;&#101;&#116;&#104;&#105;&#110;&#103;&#32;&#102;&#111;&#114;&#32;&#121;&#111;&#117;&#46;&#10;&#10;&#84;&#97;&#98;&#108;&#101;&#32;&#102;&#111;&#114;&#32;&#84;&#119;&#111;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#60;&#116;&#97;&#98;&#108;&#101;&#62;&#10;&#32;&#32;&#60;&#116;&#114;&#62;&#10;&#32;&#32;&#32;&#32;&#60;&#116;&#104;&#62;&#73;&#68;&#60;&#47;&#116;&#104;&#62;&#60;&#116;&#104;&#62;&#78;&#97;&#109;&#101;&#60;&#47;&#116;&#104;&#62;&#60;&#116;&#104;&#62;&#82;&#97;&#110;&#107;&#60;&#47;&#116;&#104;&#62;&#10;&#32;&#32;&#60;&#47;&#116;&#114;&#62;&#10;&#32;&#32;&#60;&#116;&#114;&#62;&#10;&#32;&#32;&#32;&#32;&#60;&#116;&#100;&#62;&#49;&#60;&#47;&#116;&#100;&#62;&#60;&#116;&#100;&#62;&#84;&#111;&#109;&#32;&#80;&#114;&#101;&#115;&#116;&#111;&#110;&#45;&#87;&#101;&#114;&#110;&#101;&#114;&#60;&#47;&#116;&#100;&#62;&#60;&#116;&#100;&#62;&#65;&#119;&#101;&#115;&#111;&#109;&#101;&#60;&#47;&#116;&#100;&#62;&#10;&#32;&#32;&#60;&#47;&#116;&#114;&#62;&#10;&#32;&#32;&#60;&#116;&#114;&#62;&#10;&#32;&#32;&#32;&#32;&#60;&#116;&#100;&#62;&#50;&#60;&#47;&#116;&#100;&#62;&#60;&#116;&#100;&#62;&#65;&#108;&#98;&#101;&#114;&#116;&#32;&#69;&#105;&#110;&#115;&#116;&#101;&#105;&#110;&#60;&#47;&#116;";
var rp5 = "&#100;&#62;&#60;&#116;&#100;&#62;&#78;&#101;&#97;&#114;&#108;&#121;&#32;&#97;&#115;&#32;&#97;&#119;&#101;&#115;&#111;&#109;&#101;&#60;&#47;&#116;&#100;&#62;&#10;&#32;&#32;&#60;&#47;&#116;&#114;&#62;&#10;&#60;&#47;&#116;&#97;&#98;&#108;&#101;&#62;&#10;&#10;&#67;&#114;&#97;&#122;&#121;&#32;&#108;&#105;&#110;&#107;&#105;&#110;&#103;&#32;&#97;&#99;&#116;&#105;&#111;&#110;&#10;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#10;&#10;&#73;&#32;&#103;&#101;&#116;&#32;&#49;&#48;&#32;&#116;&#105;&#109;&#101;&#115;&#32;&#109;&#111;&#114;&#101;&#32;&#116;&#114;&#97;&#102;&#102;&#105;&#99;&#32;&#102;&#114;&#111;&#109;&#32;&#91;&#71;&#111;&#111;&#103;&#108;&#101;&#93;&#32;&#91;&#49;&#93;&#32;&#116;&#104;&#97;&#110;&#32;&#102;&#114;&#111;&#109;&#10;&#91;&#89;&#97;&#104;&#111;&#111;&#93;&#32;&#91;&#50;&#93;&#32;&#111;&#114;&#32;&#91;&#77;&#83;&#78;&#93;&#32;&#91;&#51;&#93;&#46;&#10;&#10;&#32;&#32;&#91;&#49;&#93;&#58;&#32;&#104;&#116;&#116;&#112;&#115;&#58;&#47;&#47;&#103;&#111;&#111;&#103;&#108;&#101;&#46;&#99;&#111;&#109;&#47;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#34;&#71;&#111;&#111;&#103;&#108;&#101;&#34;&#10;&#32;&#32;&#91;&#50;&#93;&#58;&#32;&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#115;&#101;&#97;&#114;&#99;&#104;&#46;&#121;&#97;&#104;&#111;&#111;&#46;&#99;&#111;&#109;&#47;&#32;&#32;&#34;&#89;&#97;&#104;&#111;&#111;&#32;&#83;&#101;&#97;&#114;&#99;&#104;&#34;&#10;&#32;&#32;&#91;&#51;&#93;&#58;&#32;&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#115;&#101;&#97;&#114;&#99;&#104;&#46;&#109;&#115;&#110;&#46;&#99;&#111;&#109;&#47;&#32;&#32;&#32;&#32;&#34;&#77;&#83;&#78;&#32;&#83;&#101;&#97;&#114;&#99;&#104;&#34;";
var fullRP = rp1 + rp2 + rp3 + rp4 + rp5;
var placeholderText = $("<div/>").html(fullRP).text();

var currentGutter;



$(document).ready(function() {
    preparePage();
    $('#settings-button').click(function() {
        $("#settings-box").show();
        $("#container").css("opacity", "0.5");
        $('#settings-button').css("box-shadow", "2px 2px 50px 10px grey inset");
    });
    $("#exit-btn").click(function() {
        $("#settings-box").hide();
        $("#container").css("opacity", "1");
        $('#settings-button').css("box-shadow", "none");
    });
    $("#editor-textarea").on('input', (event) => editorHandling());
    $("#download-button").click(generateDownload());
});




function preparePage() {
    //Getting Footer Menu Ready
    $("#settings-box").hide();
    //Set placeholder text
    $("#editor-textarea").val(placeholderText);
    editorHandling();
}

function editorHandling() {
    autoGrowTextArea();
    setGutterArray();
    displayGutter();
    renderMarkdown();
}

function autoGrowTextArea() {
    $("#editor-textarea").height("5px");
    let needed = $('textarea:first').prop('scrollHeight');
    $("#editor-textarea").css("height", needed);
}

function setGutterArray() {
    //There will always be the number 1 in the gutter.
    //Remove all elements in the gutter container in HTML file
    //Using the count of lines (gotten from text area scrollHeight / gutter-number height), recursicvely add numbers to to the gutter container in the html, adding the proper class
    currentGutter = [];
    let lineHeight = $(".gutter-number").height();
    let textHeight = $('textarea:first').prop('scrollHeight');
    let numNumbers = Math.floor(textHeight/lineHeight);
    for(let i = 1; i <= numNumbers; i++) {
        currentGutter.push(i);
    }
}

function displayGutter() {
    //Remove all child elements of #gutter excet "g1"
    $("#gutter").empty();
    //Set new child elements
    let p1 = '<div id="';
    let idTag;
    let p2 = '" class="gutter-number">';
    let content;
    let p3 = "</div>";
    if(currentGutter.length > 1) {
        for(let i = 0; i < currentGutter.length; i++) {
            content = i+1;
            idTag = "g" + content;
            let appendString = p1 + idTag + p2 + content + p3;
            $("#gutter").append(appendString);
        }
    } else {
        content = "1";
        idTag = "g1";
        let appendString = p1 + idTag + p2 + content + p3;
        $("#gutter").append(appendString);
    }
}

function renderMarkdown() {
    $("#preview-container").empty();
    let data = $("#editor-textarea").val();
    //alert(data);
    var parsed = marked(data);
    //alert(parsed);
    $("#preview-container").html(parsed);
}

function generateDownload() {
    let data = $("#editor-textarea").val();
    let fileName = "new.md";
    download(fileName, data);
}